<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Welcome to BXA’s documentation! &#8212; BXA (Bayesian X-ray Analysis) 5.1.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=2c218288"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Sherpa with BXA" href="sherpa-analysis.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  
    <link rel="canonical" href="https://johannesbuchner.github.io/BXA/index.html" />
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="welcome-to-bxa-s-documentation">
<h1>Welcome to BXA’s documentation!<a class="headerlink" href="#welcome-to-bxa-s-documentation" title="Link to this heading">¶</a></h1>
<section id="about-bayesian-x-ray-analysis-bxa">
<h2>About Bayesian X-ray Analysis (BXA)<a class="headerlink" href="#about-bayesian-x-ray-analysis-bxa" title="Link to this heading">¶</a></h2>
<p>BXA connects the X-ray spectral analysis environments Xspec/Sherpa
to the nested sampling algorithm UltraNest
for <strong>Bayesian Parameter Estimation</strong> and <strong>Model comparison</strong>.</p>
<p>BXA provides the following features:</p>
<ul class="simple">
<li><dl class="simple">
<dt>parameter estimation in arbitrary dimensions, which involves:</dt><dd><ul>
<li><p>finding the best fit</p></li>
<li><p>computing error bars</p></li>
<li><p>computing marginal probability distributions</p></li>
<li><p>parallelisation with MPI</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>plotting of spectral model vs. the data:</dt><dd><ul>
<li><p>for the best fit</p></li>
<li><p>for each of the solutions (posterior samples)</p></li>
<li><p>for each component</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>model selection:</dt><dd><ul>
<li><p>computing the evidence for the considered model,
ready for use in Bayes factors</p></li>
<li><p>unlike likelihood-ratios, not limited to nested models</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>model discovery:</dt><dd><ul>
<li><p>visualize deviations between model and data with Quantile-Quantile (QQ) plots.
QQ-plots do not require binning and are more comprehensive than residuals.
This will give you ideas on when to introduce more complex models, which
may again be tested with model selection</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>BXA shines especially</p>
<ul class="simple">
<li><p>when systematically analysing a large data-set, or</p></li>
<li><p>when comparing multiple models</p></li>
<li><p>when analysing low counts data-set with realistic models</p></li>
</ul>
<p>because its robust and unsupervised fitting algorithm explores
even complicated parameter spaces in an automated fashion.
The user does not need to initialise to good starting points.
The <a class="reference external" href="https://johannesbuchner.github.io/UltraNest/method.html">algorithm</a> automatically runs until convergence, and slows down to sample
carefully if complicated parameter spaces are encountered. This allows building automated analysis pipelines.</p>
<a class="reference external image-reference" href="https://pypi.python.org/pypi/BXA"><img alt="https://img.shields.io/pypi/v/BXA.svg" src="https://img.shields.io/pypi/v/BXA.svg" /></a>
<a class="reference external image-reference" href="https://coveralls.io/github/JohannesBuchner/BXA"><img alt="https://coveralls.io/repos/github/JohannesBuchner/BXA/badge.svg" src="https://coveralls.io/repos/github/JohannesBuchner/BXA/badge.svg" /></a>
<a class="reference external image-reference" href="https://johannesbuchner.github.io/BXA/"><img alt="Documentation Status" src="https://img.shields.io/badge/docs-published-ok.svg" /></a>
<a class="reference external image-reference" href="https://github.com/JohannesBuchner/BXA/"><img alt="Github repository" src="https://img.shields.io/badge/GitHub-JohannesBuchner%2FBXA-blue.svg?style=flat" /></a>
</section>
<section id="contributors">
<h2>Contributors<a class="headerlink" href="#contributors" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>David Kaltenbrunner &#64;DaKalt</p></li>
<li><p>David Homan &#64;dshoman</p></li>
<li><p>Ruiz Angel &#64;ruizca</p></li>
<li><p>Liu Teng &#64;lewtonstein</p></li>
<li><p>Carlo Ferrigno &#64;ferrigno</p></li>
<li><p>Charlotte Simmonds</p></li>
<li><p>Brian Refsdal &#64;brefsdal</p></li>
</ul>
</section>
<section id="who-is-using-bxa">
<h2>Who is using BXA?<a class="headerlink" href="#who-is-using-bxa" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Dr. Antonis Georgakakis, Dr. Angel Ruiz (NOA, Athens)</p></li>
<li><p>Dr. Mike Anderson (MPA, Munich)</p></li>
<li><p>Dr. Franz Bauer, Charlotte Simmonds (PUC, Jonathan Quirola Vásquez, Santiago)</p></li>
<li><p>Dr. Stéphane Paltani, Dr. Carlo Ferrigno (ISDC, Geneva)</p></li>
<li><p>Dr. Zhu Liu (NAO, Beijing)</p></li>
<li><p>Dr. Georgios Vasilopoulos (Yale, New Haven)</p></li>
<li><p>Dr. Francesca Civano, Dr. Aneta Siemiginowska (CfA/SAO, Cambridge)</p></li>
<li><p>Dr. Teng Liu, Adam Malyali, Riccardo Arcodia, Sophia Waddell, Torben Simm, … (MPE, Garching)</p></li>
<li><p>Dr. Sibasish Laha, Dr. Alex Markowitz (UCSD, San Diego)</p></li>
<li><p>Dr. Arash Bahramian (Curtin University, Perth)</p></li>
<li><p>Dr. Peter Boorman (U of Southampton, Southampton; ASU, Prague)</p></li>
<li><p>and <a class="reference external" href="https://ui.adsabs.harvard.edu/search/q=citations(bibcode%3A2014A%26A...564A.125B)%20full%3A%22BXA%22&amp;sort=date%20desc%2C%20bibcode%20desc&amp;p_=0">you</a>?</p></li>
</ul>
</section>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Link to this heading">¶</a></h2>
<p>BXA’s <a class="reference external" href="http://johannesbuchner.github.io/BXA/">documentation</a> is hosted at <a class="reference external" href="http://johannesbuchner.github.io/BXA/">http://johannesbuchner.github.io/BXA/</a></p>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading">¶</a></h2>
<p>First, you need to have either <a class="reference external" href="http://cxc.harvard.edu/sherpa/">Sherpa</a> or <a class="reference external" href="http://heasarc.gsfc.nasa.gov/docs/xanadu/xspec/">Xspec</a> installed and its environment loaded.</p>
<p>BXA itself can installed easily using pip or conda:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install bxa
</pre></div>
</div>
<p>If you want to install in your home directory, install with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install bxa --user
</pre></div>
</div>
<p>The following commands should not yield any error message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -c &#39;import ultranest&#39;
$ python -c &#39;import xspec&#39;
$ sherpa
</pre></div>
</div>
<p>You may need to install python and some basic packages through your package manager. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ yum install ipython python-matplotlib scipy numpy matplotlib
$ apt-get install python-numpy python-scipy python-matplotlib ipython
</pre></div>
</div>
<p>BXA requires the following python packages: requests corner astropy h5py cython scipy tqdm.
They should be downloaded automatically. If they are not, install them
also with pip/conda.</p>
<p>The source code is available from <a class="reference external" href="https://github.com/JohannesBuchner/BXA">https://github.com/JohannesBuchner/BXA</a>,
so alternatively you can download and install it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/JohannesBuchner/BXA
$ cd BXA
$ python setup.py install
</pre></div>
</div>
<p>Or if you only want to install it for the current user:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python setup.py install --user
</pre></div>
</div>
<p><strong>Supported operating systems</strong>:
BXA runs on all operating systems supported by
<a class="reference external" href="https://cxc.cfa.harvard.edu/ciao/watchout.html#install">ciao/sherpa</a> or
<a class="reference external" href="https://heasarc.gsfc.nasa.gov/lheasoft/issues.html">heasoft/xspec</a>.
The support is systematically tested for every BXA release by
<a class="reference external" href="https://travis-ci.com/github/JohannesBuchner/BXA">Travis CI</a>, but only for Ubuntu Linux.</p>
</section>
<section id="running">
<h2>Running<a class="headerlink" href="#running" title="Link to this heading">¶</a></h2>
<p>In <em>Sherpa</em>, load the package:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>jbuchner@ds42 ~ $ sherpa
-----------------------------------------------------
Welcome to Sherpa: CXC&#39;s Modeling and Fitting Package
-----------------------------------------------------
CIAO 4.4 Sherpa version 2 Tuesday, June 5, 2012

sherpa-1&gt; import bxa.sherpa as bxa
sherpa-2&gt; bxa.BXASolver?
</pre></div>
</div>
<p>For <em>Xspec</em>, start python or ipython:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>jbuchner@ds42 ~ $ ipython
In [1]: import xspec

In [2]: import bxa.xspec as bxa

In [3]: bxa.BXASolver?
</pre></div>
</div>
<p>Now you can use BXA. See the documentation pages for how
to perform analyses. Several examples are included.</p>
</section>
<section id="code">
<h2>Code<a class="headerlink" href="#code" title="Link to this heading">¶</a></h2>
<p>See the <a class="reference external" href="https://github.com/JohannesBuchner/BXA">code repository page</a></p>
</section>
<section id="citing-bxa-correctly">
<span id="cite"></span><h2>Citing BXA correctly<a class="headerlink" href="#citing-bxa-correctly" title="Link to this heading">¶</a></h2>
<p>Refer to the <a class="reference external" href="http://www.aanda.org/articles/aa/abs/2014/04/aa22971-13/aa22971-13.html">accompaning paper Buchner et al. (2014)</a> which gives introduction and
detailed discussion on the methodology and its statistical footing.</p>
<p>We suggest giving credit to the developers of Sherpa/Xspec, UltraNest and of this software.
As an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">For</span> <span class="n">analysing</span> <span class="n">X</span><span class="o">-</span><span class="n">ray</span> <span class="n">spectra</span><span class="p">,</span> <span class="n">we</span> <span class="n">use</span> <span class="n">the</span> <span class="n">analysis</span> <span class="n">software</span> <span class="n">BXA</span> <span class="p">(</span>\<span class="n">ref</span><span class="p">{</span><span class="n">Buchner2014</span><span class="p">}),</span>
<span class="n">which</span> <span class="n">connects</span> <span class="n">the</span> <span class="n">nested</span> <span class="n">sampling</span> <span class="n">algorithm</span> <span class="n">UltraNest</span> <span class="p">(</span>\<span class="n">ref</span><span class="p">{</span><span class="n">ultranest</span><span class="p">})</span>
<span class="k">with</span> <span class="n">the</span> <span class="n">fitting</span> <span class="n">environment</span> <span class="n">CIAO</span><span class="o">/</span><span class="n">Sherpa</span> <span class="p">(</span>\<span class="n">ref</span><span class="p">{</span><span class="n">Fruscione2006</span><span class="p">})</span><span class="o">.</span>
</pre></div>
</div>
<p>Where the BibTex entries are:</p>
<ul>
<li><p>for BXA and the contributions to X-ray spectral analysis methodology (model comparison, model discovery, Experiment design, Model discovery through QQ-plots):</p>
<blockquote>
<div><ul class="simple">
<li><p>Buchner et al. (2014) A&amp;A</p></li>
<li><p>The paper is available at <a class="reference external" href="http://arxiv.org/abs/arXiv:1402.0004">arXiv:1402.0004</a></p></li>
<li><p><a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2014A%26A...564A.125B/exportcitation">bibtex entry</a></p></li>
</ul>
</div></blockquote>
</li>
<li><p>for UltraNest: see <a class="reference external" href="https://johannesbuchner.github.io/UltraNest/issues.html#how-should-i-cite-ultranest">https://johannesbuchner.github.io/UltraNest/issues.html#how-should-i-cite-ultranest</a></p></li>
<li><p>for Sherpa: see <a class="reference external" href="http://cxc.harvard.edu/sherpa/">Sherpa</a></p></li>
<li><p>for Xspec: see <a class="reference external" href="http://heasarc.gsfc.nasa.gov/docs/xanadu/xspec/">Xspec</a></p></li>
</ul>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>We start with some notes on <a class="reference internal" href="best-practise.html"><span class="doc">best practice</span></a> in currently common
Maximum Likelihood analysis (fitting) and Bayesian analysis.</p></li>
</ul>
<p>The usage is similar in Sherpa and Xspec conceptionally:</p>
<ul class="simple">
<li><dl class="simple">
<dt>Define <strong>priors</strong> as transformations from the unit cube to the parameter space</dt><dd><ul>
<li><p><a class="reference internal" href="sherpa-analysis.html#sherpa-priors"><span class="std std-ref">In Sherpa</span></a></p></li>
<li><p><a class="reference internal" href="xspec-analysis.html#xspec-priors"><span class="std std-ref">In Xspec</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Run</strong> the analysis</dt><dd><ul>
<li><p><a class="reference internal" href="sherpa-analysis.html#sherpa-run"><span class="std std-ref">In Sherpa</span></a></p></li>
<li><p><a class="reference internal" href="xspec-analysis.html#xspec-run"><span class="std std-ref">In Xspec</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Analyse</strong> the results: Get marginal distributions and computed evidence for the model</dt><dd><ul>
<li><p><a class="reference internal" href="sherpa-analysis.html#sherpa-analyse"><span class="std std-ref">In Sherpa</span></a></p></li>
<li><p><a class="reference internal" href="xspec-analysis.html#xspec-analyse"><span class="std std-ref">In Xspec</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Model comparison</strong></dt><dd><ul>
<li><p><a class="reference internal" href="sherpa-analysis.html#sherpa-models"><span class="std std-ref">In Sherpa</span></a></p></li>
<li><p><a class="reference internal" href="xspec-analysis.html#xspec-models"><span class="std std-ref">In Xspec</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Experiment design</strong></dt><dd><ul>
<li><p><a class="reference internal" href="sherpa-analysis.html#sherpa-design"><span class="std std-ref">In Sherpa</span></a></p></li>
<li><p><a class="reference internal" href="xspec-analysis.html#xspec-design"><span class="std std-ref">In Xspec</span></a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Model discovery</strong>: Quantile-Quantile (QQ) plots</dt><dd><ul>
<li><p><a class="reference internal" href="sherpa-analysis.html#sherpa-qq"><span class="std std-ref">In Sherpa</span></a></p></li>
<li><p><a class="reference internal" href="xspec-analysis.html#xspec-qq"><span class="std std-ref">In Xspec</span></a></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sherpa-analysis.html">Sherpa with BXA</a></li>
<li class="toctree-l1"><a class="reference internal" href="xspec-analysis.html">Xspec with BXA</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">API</a></li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Learn more</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="visualisations.html">Visualisations</a></li>
<li class="toctree-l1"><a class="reference internal" href="engine.html">Inference engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="convenience.html">Convenience features</a></li>
<li class="toctree-l1"><a class="reference internal" href="background-models.html">Empirical background models</a></li>
<li class="toctree-l1"><a class="reference internal" href="pca-background-models.html">PCA-based background models</a></li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Example scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="xagnfitter.html">Obscured Active Galactic Nuclei</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_usage_plotbxa.html">PlotBXA example</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_usage_plotxspec.html">PlotXspec example</a></li>
</ul>
</div>
</section>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Link to this heading">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">BXA (Bayesian X-ray Analysis)</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sherpa-analysis.html">Sherpa with BXA</a></li>
<li class="toctree-l1"><a class="reference internal" href="xspec-analysis.html">Xspec with BXA</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Learn more</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="visualisations.html">Visualisations</a></li>
<li class="toctree-l1"><a class="reference internal" href="engine.html">Inference engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="convenience.html">Convenience features</a></li>
<li class="toctree-l1"><a class="reference internal" href="background-models.html">Empirical background models</a></li>
<li class="toctree-l1"><a class="reference internal" href="pca-background-models.html">PCA-based background models</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Example scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="xagnfitter.html">Obscured Active Galactic Nuclei</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_usage_plotbxa.html">PlotBXA example</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_usage_plotxspec.html">PlotXspec example</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="sherpa-analysis.html" title="next chapter">Sherpa with BXA</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2013-2025, Johannes Buchner.
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>